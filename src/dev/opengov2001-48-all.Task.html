<html title="sankey">

<style>
.node rect {
  cursor: move;
  fill-opacity: .9;
  shape-rendering: crispEdges;
}
.node text {
  pointer-events: none;
  text-shadow: 0 1px 0 #fff;
}
.link {
  fill: none;
  stroke: #000;
  stroke-opacity: .2;
}
.link:hover {
  stroke-opacity: .5;
}
</style>
<title>opengov2001-48-all.Task</title>
<body>
<p id="chart">
<script type="text/javascript" src="http://d3js.org/d3.v2.min.js"></script>
<script type="text/javascript" src="https://raw.github.com/d3/d3-plugins/master/sankey/sankey.js"></script>
<script>
var units = "Messages";

var margin = {top: 10, right: 10, bottom: 10, left: 10},
    width = 1500 - margin.left - margin.right,
    height = 1500 - margin.top - margin.bottom;

var formatNumber = d3.format(",.0f"),    // zero decimal places
    format = function(d) { return formatNumber(d) + " " + units; },
    color = d3.scale.category20();

// append the svg canvas to the page
var svg = d3.select("#chart").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", 
          "translate(" + margin.left + "," + margin.top + ")");

// Set the sankey diagram properties
var sankey = d3.sankey()
    .nodeWidth(36)
    .nodePadding(40)
    .size([width, height]);

var path = sankey.link();

graph = JSON.parse('{"nodes":[{"name":"106"},{"name":"82"},{"name":"64"},{"name":"40"},{"name":"6"},{"name":"89"},{"name":"41"},{"name":"42"},{"name":"33"},{"name":"26"},{"name":"108"},{"name":"32"},{"name":"35"},{"name":"34"},{"name":"37"},{"name":"36"},{"name":"39"},{"name":"38"},{"name":"59"},{"name":"74"},{"name":"43"},{"name":"75"},{"name":"31"},{"name":"45"},{"name":"44"},{"name":"30"},{"name":"47"},{"name":"46"},{"name":"2"},{"name":"85"},{"name":"48"},{"name":"25"},{"name":"27"},{"name":"28"},{"name":"109"},{"name":"10"},{"name":"11"},{"name":"12"},{"name":"13"},{"name":"14"},{"name":"15"},{"name":"16"},{"name":"29"},{"name":"17"},{"name":"18"},{"name":"19"},{"name":"105"},{"name":"81"},{"name":"23"},{"name":"24"},{"name":"21"},{"name":"22"},{"name":"20"},{"name":"100"},{"name":"76"},{"name":"84"},{"name":"60"},{"name":"62"},{"name":"68"},{"name":"80"},{"name":"104"},{"name":"83"},{"name":"1"},{"name":"3"},{"name":"86"},{"name":"97"},{"name":"73"},{"name":"92"},{"name":"78"},{"name":"107"},{"name":"101"},{"name":"91"},{"name":"67"},{"name":"99"},{"name":"66"},{"name":"4"},{"name":"87"},{"name":"77"},{"name":"65"},{"name":"8"},{"name":"70"},{"name":"94"},{"name":"102"},{"name":"9"},{"name":"61"},{"name":"5"},{"name":"88"},{"name":"63"},{"name":"7"},{"name":"98"},{"name":"95"},{"name":"71"},{"name":"90"},{"name":"72"},{"name":"103"},{"name":"79"},{"name":"93"},{"name":"69"},{"name":"96"}],"links":[{"source":1,"value":796,"target":31},{"source":1,"value":1105,"target":32},{"source":1,"value":579,"target":9},{"source":87,"value":1002,"target":26},{"source":87,"value":617,"target":30},{"source":47,"value":1187,"target":9},{"source":66,"value":832,"target":30},{"source":47,"value":926,"target":31},{"source":47,"value":1114,"target":33},{"source":47,"value":819,"target":32},{"source":61,"value":730,"target":31},{"source":61,"value":1289,"target":9},{"source":15,"value":212,"target":10},{"source":59,"value":988,"target":42},{"source":59,"value":741,"target":33},{"source":59,"value":1436,"target":32},{"source":59,"value":1401,"target":9},{"source":59,"value":1115,"target":31},{"source":66,"value":622,"target":16},{"source":66,"value":1260,"target":17},{"source":66,"value":1077,"target":14},{"source":66,"value":813,"target":27},{"source":66,"value":1260,"target":26},{"source":66,"value":817,"target":24},{"source":66,"value":1445,"target":23},{"source":66,"value":914,"target":7},{"source":66,"value":951,"target":20},{"source":66,"value":380,"target":3},{"source":66,"value":822,"target":6},{"source":26,"value":8998,"target":10},{"source":1,"value":417,"target":20},{"source":1,"value":554,"target":7},{"source":1,"value":1358,"target":23},{"source":86,"value":77109,"target":2},{"source":1,"value":636,"target":24},{"source":1,"value":693,"target":26},{"source":93,"value":698,"target":33},{"source":59,"value":882,"target":25},{"source":1,"value":1066,"target":27},{"source":93,"value":828,"target":32},{"source":59,"value":1436,"target":11},{"source":1,"value":868,"target":30},{"source":93,"value":871,"target":42},{"source":59,"value":1046,"target":22},{"source":66,"value":1047,"target":32},{"source":59,"value":1507,"target":13},{"source":66,"value":724,"target":9},{"source":59,"value":722,"target":8},{"source":66,"value":809,"target":42},{"source":59,"value":1348,"target":15},{"source":66,"value":1369,"target":33},{"source":59,"value":534,"target":12},{"source":59,"value":1172,"target":17},{"source":76,"value":76381,"target":87},{"source":59,"value":846,"target":14},{"source":1,"value":987,"target":6},{"source":1,"value":313,"target":3},{"source":59,"value":605,"target":16},{"source":66,"value":700,"target":25},{"source":66,"value":452,"target":22},{"source":66,"value":1720,"target":11},{"source":66,"value":717,"target":8},{"source":66,"value":1057,"target":13},{"source":66,"value":743,"target":12},{"source":66,"value":1126,"target":15},{"source":93,"value":821,"target":13},{"source":1,"value":974,"target":16},{"source":93,"value":860,"target":12},{"source":72,"value":502,"target":30},{"source":93,"value":1223,"target":15},{"source":72,"value":269,"target":26},{"source":93,"value":1296,"target":14},{"source":72,"value":940,"target":27},{"source":93,"value":691,"target":25},{"source":72,"value":674,"target":23},{"source":93,"value":940,"target":22},{"source":72,"value":883,"target":24},{"source":93,"value":1156,"target":11},{"source":72,"value":622,"target":20},{"source":93,"value":909,"target":8},{"source":1,"value":1593,"target":13},{"source":1,"value":1870,"target":8},{"source":1,"value":842,"target":11},{"source":1,"value":1174,"target":22},{"source":1,"value":679,"target":17},{"source":59,"value":1529,"target":20},{"source":1,"value":925,"target":14},{"source":59,"value":344,"target":7},{"source":1,"value":513,"target":15},{"source":59,"value":968,"target":6},{"source":1,"value":1017,"target":12},{"source":59,"value":389,"target":3},{"source":59,"value":467,"target":26},{"source":59,"value":882,"target":27},{"source":59,"value":461,"target":23},{"source":59,"value":376,"target":24},{"source":1,"value":1391,"target":25},{"source":53,"value":69931,"target":54},{"source":59,"value":1338,"target":30},{"source":66,"value":1000,"target":31},{"source":62,"value":84304,"target":55},{"source":93,"value":1272,"target":31},{"source":93,"value":1254,"target":9},{"source":1,"value":1088,"target":33},{"source":1,"value":748,"target":42},{"source":51,"value":80232,"target":46},{"source":20,"value":183,"target":10},{"source":45,"value":76893,"target":82},{"source":23,"value":389,"target":10},{"source":19,"value":1267,"target":30},{"source":19,"value":542,"target":26},{"source":55,"value":84304,"target":56},{"source":18,"value":25768,"target":9},{"source":18,"value":35050,"target":32},{"source":18,"value":25371,"target":33},{"source":18,"value":30941,"target":42},{"source":19,"value":899,"target":6},{"source":19,"value":1470,"target":7},{"source":93,"value":1255,"target":17},{"source":93,"value":1347,"target":16},{"source":19,"value":426,"target":3},{"source":18,"value":22683,"target":31},{"source":19,"value":1157,"target":23},{"source":19,"value":1385,"target":27},{"source":19,"value":1379,"target":20},{"source":19,"value":974,"target":24},{"source":93,"value":1177,"target":24},{"source":19,"value":328,"target":16},{"source":93,"value":966,"target":20},{"source":19,"value":650,"target":17},{"source":93,"value":933,"target":7},{"source":19,"value":673,"target":14},{"source":93,"value":543,"target":6},{"source":19,"value":576,"target":15},{"source":93,"value":1264,"target":30},{"source":93,"value":1230,"target":26},{"source":93,"value":821,"target":27},{"source":93,"value":724,"target":23},{"source":93,"value":1765,"target":3},{"source":85,"value":77109,"target":86},{"source":61,"value":626,"target":17},{"source":61,"value":1335,"target":16},{"source":6,"value":235,"target":10},{"source":61,"value":1360,"target":3},{"source":81,"value":76957,"target":80},{"source":42,"value":625,"target":10},{"source":61,"value":756,"target":27},{"source":61,"value":1279,"target":23},{"source":61,"value":992,"target":30},{"source":61,"value":486,"target":26},{"source":61,"value":1267,"target":7},{"source":61,"value":674,"target":6},{"source":61,"value":1023,"target":24},{"source":61,"value":511,"target":20},{"source":61,"value":467,"target":42},{"source":61,"value":951,"target":32},{"source":61,"value":1037,"target":33},{"source":7,"value":1224,"target":10},{"source":27,"value":940,"target":10},{"source":61,"value":1115,"target":14},{"source":61,"value":991,"target":15},{"source":61,"value":818,"target":12},{"source":61,"value":641,"target":13},{"source":61,"value":926,"target":8},{"source":69,"value":80244,"target":61},{"source":61,"value":1151,"target":11},{"source":61,"value":983,"target":22},{"source":61,"value":1940,"target":25},{"source":4,"value":82280,"target":5},{"source":52,"value":75945,"target":94},{"source":56,"value":413,"target":31},{"source":56,"value":287,"target":9},{"source":56,"value":1419,"target":32},{"source":49,"value":80244,"target":69},{"source":96,"value":81191,"target":97},{"source":90,"value":81098,"target":91},{"source":97,"value":1206,"target":23},{"source":97,"value":969,"target":27},{"source":97,"value":1074,"target":26},{"source":82,"value":76893,"target":68},{"source":65,"value":81411,"target":66},{"source":97,"value":1034,"target":30},{"source":97,"value":1724,"target":6},{"source":97,"value":256,"target":7},{"source":97,"value":974,"target":20},{"source":97,"value":513,"target":24},{"source":70,"value":76838,"target":77},{"source":71,"value":79189,"target":72},{"source":0,"value":83407,"target":1},{"source":88,"value":75558,"target":92},{"source":83,"value":77944,"target":67},{"source":79,"value":79189,"target":71},{"source":58,"value":875,"target":33},{"source":72,"value":821,"target":31},{"source":58,"value":1064,"target":42},{"source":72,"value":1010,"target":9},{"source":84,"value":1202,"target":31},{"source":5,"value":82280,"target":78},{"source":72,"value":1135,"target":32},{"source":84,"value":673,"target":9},{"source":72,"value":831,"target":33},{"source":72,"value":1324,"target":42},{"source":58,"value":1349,"target":31},{"source":58,"value":920,"target":9},{"source":58,"value":1088,"target":32},{"source":97,"value":910,"target":33},{"source":97,"value":875,"target":32},{"source":58,"value":1056,"target":25},{"source":97,"value":1857,"target":42},{"source":97,"value":1654,"target":9},{"source":73,"value":82736,"target":21},{"source":72,"value":1047,"target":22},{"source":97,"value":1143,"target":31},{"source":72,"value":1169,"target":25},{"source":72,"value":1137,"target":13},{"source":72,"value":353,"target":12},{"source":72,"value":863,"target":11},{"source":72,"value":480,"target":8},{"source":72,"value":1152,"target":17},{"source":97,"value":1040,"target":3},{"source":72,"value":1023,"target":16},{"source":72,"value":1129,"target":15},{"source":58,"value":1173,"target":16},{"source":72,"value":624,"target":14},{"source":58,"value":221,"target":14},{"source":58,"value":976,"target":17},{"source":58,"value":1121,"target":12},{"source":58,"value":924,"target":15},{"source":58,"value":965,"target":8},{"source":58,"value":761,"target":13},{"source":58,"value":1195,"target":22},{"source":58,"value":828,"target":11},{"source":58,"value":1160,"target":6},{"source":58,"value":1876,"target":3},{"source":97,"value":438,"target":16},{"source":97,"value":759,"target":17},{"source":57,"value":937,"target":30},{"source":97,"value":636,"target":8},{"source":97,"value":468,"target":11},{"source":97,"value":977,"target":22},{"source":97,"value":657,"target":25},{"source":72,"value":717,"target":7},{"source":97,"value":797,"target":14},{"source":72,"value":964,"target":6},{"source":97,"value":1342,"target":15},{"source":72,"value":1297,"target":3},{"source":97,"value":722,"target":12},{"source":97,"value":744,"target":13},{"source":84,"value":686,"target":23},{"source":84,"value":626,"target":27},{"source":84,"value":349,"target":26},{"source":84,"value":877,"target":30},{"source":84,"value":883,"target":6},{"source":84,"value":917,"target":7},{"source":84,"value":493,"target":20},{"source":84,"value":916,"target":24},{"source":67,"value":77944,"target":58},{"source":56,"value":448,"target":16},{"source":57,"value":1081,"target":3},{"source":58,"value":243,"target":7},{"source":57,"value":898,"target":6},{"source":58,"value":833,"target":20},{"source":57,"value":831,"target":7},{"source":58,"value":865,"target":24},{"source":57,"value":1577,"target":20},{"source":84,"value":996,"target":3},{"source":58,"value":439,"target":23},{"source":57,"value":157,"target":24},{"source":58,"value":782,"target":27},{"source":57,"value":778,"target":23},{"source":58,"value":1058,"target":26},{"source":57,"value":1037,"target":27},{"source":58,"value":1684,"target":30},{"source":57,"value":549,"target":26},{"source":56,"value":1178,"target":20},{"source":57,"value":1326,"target":17},{"source":56,"value":1280,"target":7},{"source":57,"value":922,"target":14},{"source":56,"value":683,"target":23},{"source":47,"value":843,"target":26},{"source":56,"value":965,"target":24},{"source":57,"value":789,"target":16},{"source":47,"value":393,"target":30},{"source":56,"value":1082,"target":26},{"source":47,"value":1223,"target":23},{"source":98,"value":83060,"target":93},{"source":56,"value":512,"target":27},{"source":47,"value":885,"target":27},{"source":47,"value":1040,"target":20},{"source":56,"value":389,"target":30},{"source":47,"value":994,"target":24},{"source":47,"value":1049,"target":6},{"source":47,"value":575,"target":7},{"source":47,"value":813,"target":3},{"source":84,"value":1160,"target":16},{"source":84,"value":1679,"target":17},{"source":56,"value":1078,"target":6},{"source":56,"value":698,"target":3},{"source":84,"value":482,"target":15},{"source":84,"value":1679,"target":14},{"source":84,"value":861,"target":13},{"source":84,"value":590,"target":12},{"source":84,"value":241,"target":11},{"source":84,"value":986,"target":8},{"source":84,"value":411,"target":25},{"source":84,"value":942,"target":22},{"source":57,"value":910,"target":22},{"source":57,"value":996,"target":11},{"source":56,"value":492,"target":33},{"source":56,"value":1280,"target":42},{"source":57,"value":1097,"target":25},{"source":57,"value":963,"target":12},{"source":57,"value":1146,"target":15},{"source":47,"value":1324,"target":42},{"source":57,"value":811,"target":8},{"source":57,"value":1086,"target":13},{"source":56,"value":764,"target":13},{"source":57,"value":646,"target":42},{"source":47,"value":521,"target":15},{"source":56,"value":1346,"target":8},{"source":57,"value":525,"target":33},{"source":47,"value":620,"target":14},{"source":56,"value":858,"target":11},{"source":57,"value":482,"target":32},{"source":47,"value":832,"target":17},{"source":56,"value":1323,"target":22},{"source":57,"value":1417,"target":9},{"source":47,"value":306,"target":16},{"source":11,"value":662,"target":10},{"source":56,"value":1895,"target":17},{"source":47,"value":1472,"target":11},{"source":56,"value":1280,"target":14},{"source":47,"value":795,"target":8},{"source":56,"value":894,"target":15},{"source":47,"value":1136,"target":13},{"source":56,"value":845,"target":12},{"source":47,"value":1266,"target":12},{"source":47,"value":538,"target":25},{"source":47,"value":658,"target":22},{"source":56,"value":1361,"target":25},{"source":84,"value":1356,"target":42},{"source":84,"value":594,"target":33},{"source":84,"value":1086,"target":32},{"source":13,"value":4680,"target":10},{"source":36,"value":76957,"target":81},{"source":34,"value":86173,"target":62},{"source":34,"value":169247,"target":63},{"source":34,"value":80967,"target":28},{"source":34,"value":78818,"target":85},{"source":34,"value":77479,"target":75},{"source":34,"value":76653,"target":88},{"source":34,"value":83430,"target":4},{"source":50,"value":81721,"target":60},{"source":34,"value":78326,"target":83},{"source":60,"value":81721,"target":59},{"source":34,"value":79573,"target":79},{"source":77,"value":924,"target":27},{"source":77,"value":1251,"target":26},{"source":77,"value":1448,"target":24},{"source":77,"value":650,"target":23},{"source":77,"value":1491,"target":30},{"source":77,"value":465,"target":6},{"source":77,"value":648,"target":3},{"source":77,"value":1489,"target":20},{"source":77,"value":644,"target":7},{"source":16,"value":2435,"target":10},{"source":89,"value":70661,"target":19},{"source":57,"value":949,"target":31},{"source":77,"value":755,"target":8},{"source":77,"value":895,"target":13},{"source":77,"value":525,"target":12},{"source":77,"value":841,"target":15},{"source":77,"value":1026,"target":14},{"source":77,"value":258,"target":17},{"source":77,"value":320,"target":16},{"source":77,"value":1304,"target":11},{"source":77,"value":652,"target":22},{"source":77,"value":950,"target":25},{"source":40,"value":70661,"target":89},{"source":54,"value":594,"target":8},{"source":54,"value":568,"target":11},{"source":54,"value":1350,"target":22},{"source":54,"value":1056,"target":25},{"source":54,"value":994,"target":31},{"source":80,"value":1580,"target":7},{"source":54,"value":1183,"target":9},{"source":80,"value":551,"target":6},{"source":80,"value":862,"target":3},{"source":54,"value":468,"target":42},{"source":54,"value":1259,"target":32},{"source":54,"value":598,"target":33},{"source":77,"value":930,"target":33},{"source":77,"value":1201,"target":42},{"source":44,"value":76838,"target":70},{"source":77,"value":540,"target":9},{"source":80,"value":709,"target":30},{"source":77,"value":719,"target":32},{"source":80,"value":1425,"target":26},{"source":80,"value":1249,"target":27},{"source":22,"value":256,"target":10},{"source":77,"value":1574,"target":31},{"source":80,"value":1298,"target":23},{"source":80,"value":764,"target":24},{"source":80,"value":450,"target":20},{"source":48,"value":83407,"target":0},{"source":68,"value":1434,"target":26},{"source":68,"value":1262,"target":30},{"source":68,"value":586,"target":23},{"source":68,"value":892,"target":27},{"source":68,"value":1161,"target":20},{"source":68,"value":1714,"target":24},{"source":46,"value":80232,"target":47},{"source":24,"value":343,"target":10},{"source":54,"value":598,"target":30},{"source":54,"value":1177,"target":26},{"source":54,"value":659,"target":27},{"source":54,"value":850,"target":23},{"source":54,"value":1469,"target":6},{"source":68,"value":1650,"target":15},{"source":54,"value":941,"target":7},{"source":68,"value":734,"target":14},{"source":54,"value":793,"target":20},{"source":68,"value":417,"target":17},{"source":54,"value":1377,"target":24},{"source":68,"value":598,"target":16},{"source":68,"value":1391,"target":11},{"source":68,"value":1198,"target":8},{"source":68,"value":643,"target":13},{"source":54,"value":478,"target":3},{"source":68,"value":401,"target":12},{"source":94,"value":75945,"target":95},{"source":92,"value":75558,"target":74},{"source":17,"value":4396,"target":10},{"source":54,"value":841,"target":16},{"source":68,"value":989,"target":3},{"source":54,"value":757,"target":17},{"source":68,"value":117,"target":7},{"source":68,"value":1512,"target":6},{"source":54,"value":650,"target":12},{"source":54,"value":738,"target":13},{"source":54,"value":1020,"target":14},{"source":54,"value":840,"target":15},{"source":39,"value":81411,"target":65},{"source":41,"value":82736,"target":73},{"source":21,"value":952,"target":12},{"source":14,"value":6238,"target":10},{"source":21,"value":450,"target":15},{"source":21,"value":928,"target":14},{"source":21,"value":1579,"target":17},{"source":21,"value":659,"target":16},{"source":37,"value":81098,"target":90},{"source":75,"value":76381,"target":76},{"source":38,"value":83060,"target":98},{"source":28,"value":79839,"target":29},{"source":34,"value":78216,"target":44},{"source":34,"value":70798,"target":43},{"source":34,"value":80073,"target":45},{"source":95,"value":804,"target":20},{"source":34,"value":82857,"target":49},{"source":95,"value":965,"target":7},{"source":95,"value":309,"target":23},{"source":95,"value":1117,"target":24},{"source":95,"value":683,"target":26},{"source":34,"value":78205,"target":52},{"source":95,"value":863,"target":27},{"source":34,"value":85074,"target":50},{"source":34,"value":83198,"target":51},{"source":95,"value":782,"target":30},{"source":18,"value":24855,"target":30},{"source":34,"value":85849,"target":48},{"source":18,"value":27651,"target":26},{"source":18,"value":24703,"target":27},{"source":18,"value":31469,"target":23},{"source":21,"value":797,"target":6},{"source":18,"value":33450,"target":24},{"source":21,"value":1251,"target":3},{"source":18,"value":28415,"target":20},{"source":21,"value":360,"target":20},{"source":18,"value":24340,"target":7},{"source":21,"value":688,"target":7},{"source":18,"value":28048,"target":6},{"source":21,"value":943,"target":23},{"source":18,"value":30776,"target":3},{"source":21,"value":701,"target":24},{"source":21,"value":1936,"target":30},{"source":25,"value":1033,"target":10},{"source":21,"value":1155,"target":27},{"source":21,"value":831,"target":26},{"source":78,"value":1526,"target":27},{"source":78,"value":1789,"target":23},{"source":78,"value":1164,"target":30},{"source":78,"value":897,"target":26},{"source":95,"value":588,"target":3},{"source":95,"value":805,"target":6},{"source":95,"value":1683,"target":13},{"source":34,"value":72747,"target":40},{"source":95,"value":799,"target":8},{"source":34,"value":86792,"target":41},{"source":95,"value":965,"target":11},{"source":34,"value":86399,"target":38},{"source":95,"value":774,"target":22},{"source":34,"value":81792,"target":39},{"source":95,"value":986,"target":17},{"source":34,"value":79807,"target":36},{"source":18,"value":25499,"target":17},{"source":95,"value":1233,"target":14},{"source":34,"value":88232,"target":37},{"source":18,"value":34952,"target":14},{"source":95,"value":648,"target":15},{"source":95,"value":731,"target":12},{"source":34,"value":82326,"target":35},{"source":18,"value":28948,"target":16},{"source":18,"value":27944,"target":13},{"source":18,"value":29721,"target":8},{"source":18,"value":25844,"target":15},{"source":95,"value":1005,"target":16},{"source":18,"value":28633,"target":12},{"source":18,"value":30617,"target":25},{"source":18,"value":24488,"target":11},{"source":18,"value":31545,"target":22},{"source":68,"value":882,"target":25},{"source":68,"value":796,"target":22},{"source":95,"value":842,"target":25},{"source":95,"value":846,"target":31},{"source":68,"value":844,"target":42},{"source":95,"value":1237,"target":32},{"source":95,"value":1078,"target":9},{"source":95,"value":1355,"target":42},{"source":68,"value":438,"target":9},{"source":95,"value":1013,"target":33},{"source":68,"value":1023,"target":31},{"source":68,"value":1402,"target":33},{"source":68,"value":987,"target":32},{"source":30,"value":1101,"target":10},{"source":21,"value":1168,"target":33},{"source":21,"value":1275,"target":42},{"source":21,"value":697,"target":9},{"source":21,"value":752,"target":32},{"source":21,"value":774,"target":31},{"source":29,"value":79839,"target":84},{"source":19,"value":909,"target":32},{"source":64,"value":82891,"target":57},{"source":19,"value":1074,"target":33},{"source":19,"value":405,"target":31},{"source":19,"value":1178,"target":9},{"source":32,"value":1809,"target":10},{"source":19,"value":715,"target":42},{"source":19,"value":418,"target":22},{"source":19,"value":671,"target":25},{"source":19,"value":791,"target":12},{"source":19,"value":847,"target":13},{"source":19,"value":487,"target":8},{"source":19,"value":688,"target":11},{"source":21,"value":613,"target":13},{"source":21,"value":626,"target":8},{"source":21,"value":702,"target":11},{"source":21,"value":1176,"target":22},{"source":21,"value":800,"target":25},{"source":80,"value":1126,"target":31},{"source":80,"value":1177,"target":9},{"source":80,"value":666,"target":32},{"source":80,"value":1191,"target":33},{"source":91,"value":590,"target":31},{"source":91,"value":866,"target":9},{"source":91,"value":1214,"target":32},{"source":63,"value":82891,"target":64},{"source":74,"value":530,"target":24},{"source":80,"value":996,"target":13},{"source":91,"value":1187,"target":25},{"source":74,"value":833,"target":23},{"source":80,"value":554,"target":12},{"source":74,"value":215,"target":27},{"source":80,"value":484,"target":11},{"source":74,"value":722,"target":26},{"source":80,"value":837,"target":8},{"source":74,"value":758,"target":30},{"source":80,"value":820,"target":17},{"source":80,"value":520,"target":16},{"source":80,"value":1682,"target":15},{"source":80,"value":1177,"target":14},{"source":91,"value":761,"target":14},{"source":91,"value":1276,"target":17},{"source":91,"value":849,"target":12},{"source":91,"value":1345,"target":15},{"source":91,"value":576,"target":8},{"source":80,"value":436,"target":25},{"source":91,"value":501,"target":13},{"source":80,"value":981,"target":22},{"source":91,"value":1210,"target":22},{"source":91,"value":1397,"target":11},{"source":91,"value":938,"target":42},{"source":91,"value":660,"target":33},{"source":2,"value":1023,"target":26},{"source":2,"value":560,"target":27},{"source":2,"value":627,"target":30},{"source":80,"value":603,"target":42},{"source":3,"value":390,"target":10},{"source":2,"value":494,"target":24},{"source":74,"value":1095,"target":16},{"source":2,"value":953,"target":23},{"source":2,"value":715,"target":7},{"source":74,"value":986,"target":14},{"source":2,"value":813,"target":20},{"source":74,"value":653,"target":17},{"source":2,"value":1035,"target":3},{"source":74,"value":771,"target":12},{"source":2,"value":784,"target":6},{"source":74,"value":775,"target":15},{"source":91,"value":1312,"target":3},{"source":74,"value":829,"target":8},{"source":91,"value":788,"target":6},{"source":74,"value":1415,"target":13},{"source":78,"value":1201,"target":15},{"source":87,"value":287,"target":6},{"source":91,"value":933,"target":7},{"source":78,"value":548,"target":14},{"source":87,"value":973,"target":7},{"source":91,"value":761,"target":20},{"source":78,"value":488,"target":13},{"source":91,"value":1110,"target":24},{"source":78,"value":1173,"target":12},{"source":87,"value":806,"target":3},{"source":91,"value":888,"target":23},{"source":87,"value":920,"target":23},{"source":91,"value":1190,"target":27},{"source":87,"value":1447,"target":27},{"source":91,"value":1030,"target":26},{"source":78,"value":604,"target":17},{"source":87,"value":1057,"target":20},{"source":91,"value":826,"target":30},{"source":78,"value":981,"target":16},{"source":87,"value":868,"target":24},{"source":78,"value":1106,"target":3},{"source":87,"value":301,"target":16},{"source":87,"value":664,"target":17},{"source":91,"value":745,"target":16},{"source":87,"value":699,"target":14},{"source":87,"value":1086,"target":15},{"source":78,"value":688,"target":24},{"source":78,"value":691,"target":20},{"source":78,"value":899,"target":7},{"source":78,"value":856,"target":6},{"source":9,"value":200,"target":10},{"source":74,"value":792,"target":20},{"source":74,"value":514,"target":7},{"source":74,"value":700,"target":6},{"source":2,"value":1052,"target":16},{"source":74,"value":1132,"target":3},{"source":2,"value":1170,"target":17},{"source":2,"value":1467,"target":14},{"source":2,"value":1270,"target":15},{"source":2,"value":825,"target":12},{"source":2,"value":673,"target":22},{"source":74,"value":660,"target":9},{"source":2,"value":1199,"target":11},{"source":74,"value":845,"target":32},{"source":2,"value":1209,"target":8},{"source":74,"value":567,"target":33},{"source":2,"value":503,"target":13},{"source":74,"value":511,"target":42},{"source":2,"value":401,"target":25},{"source":74,"value":1365,"target":31},{"source":8,"value":687,"target":10},{"source":78,"value":1278,"target":31},{"source":87,"value":1320,"target":25},{"source":78,"value":591,"target":9},{"source":87,"value":478,"target":22},{"source":78,"value":738,"target":32},{"source":87,"value":1147,"target":11},{"source":78,"value":1111,"target":33},{"source":87,"value":1647,"target":8},{"source":78,"value":586,"target":42},{"source":87,"value":1055,"target":13},{"source":87,"value":1274,"target":12},{"source":43,"value":69931,"target":53},{"source":87,"value":1522,"target":9},{"source":87,"value":467,"target":31},{"source":87,"value":550,"target":33},{"source":87,"value":580,"target":32},{"source":78,"value":732,"target":22},{"source":78,"value":831,"target":25},{"source":87,"value":1103,"target":42},{"source":12,"value":2158,"target":10},{"source":78,"value":775,"target":8},{"source":78,"value":600,"target":11},{"source":2,"value":975,"target":42},{"source":74,"value":872,"target":25},{"source":2,"value":1142,"target":33},{"source":31,"value":104,"target":10},{"source":74,"value":808,"target":11},{"source":74,"value":861,"target":22},{"source":2,"value":558,"target":31},{"source":33,"value":107,"target":10},{"source":2,"value":982,"target":32},{"source":2,"value":777,"target":9}]}');

  sankey
      .nodes(graph.nodes)
      .links(graph.links)
      .layout(32);

// add in the links
  var link = svg.append("g").selectAll(".link")
      .data(graph.links)
    .enter().append("path")
      .attr("class", "link")
      .attr("d", path)
      .style("stroke-width", function(d) { return Math.max(1, d.dy); })
      .sort(function(a, b) { return b.dy - a.dy; });

// add the link titles
  link.append("title")
        .text(function(d) {
            return d.source.name + " → " + 
                d.target.name + "\n" + format(d.value); });

// add in the nodes
  var node = svg.append("g").selectAll(".node")
      .data(graph.nodes)
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { 
          return "translate(" + d.x + "," + d.y + ")"; })
    .call(d3.behavior.drag()
      .origin(function(d) { return d; })
      .on("dragstart", function() { 
          this.parentNode.appendChild(this); })
      .on("drag", dragmove));

// add the rectangles for the nodes
  node.append("rect")
      .attr("height", function(d) { return d.dy; })
      .attr("width", sankey.nodeWidth())
      .style("fill", function(d) { 
          return d.color = color(d.name.replace(/ .*/, "")); })
      .style("stroke", function(d) { 
          return d3.rgb(d.color).darker(2); })
    .append("title")
      .text(function(d) { 
          return d.name + "\n" + format(d.value); });

// add in the title for the nodes
  node.append("text")
      .attr("x", -6)
      .attr("y", function(d) { return d.dy / 2; })
      .attr("dy", ".35em")
      .attr("text-anchor", "end")
      .attr("transform", null)
      .text(function(d) { return d.name; })
    .filter(function(d) { return d.x < width / 2; })
      .attr("x", 6 + sankey.nodeWidth())
      .attr("text-anchor", "start");

// the function for moving the nodes
  function dragmove(d) {
    d3.select(this).attr("transform", 
        "translate(" + (
            d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))
        )
        + "," + (
            d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))
        ) + ")");
    sankey.relayout();
    link.attr("d", path);
  }

</script>
</body>
</html>
