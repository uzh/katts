<html title="sankey">

<style>
.node rect {
  cursor: move;
  fill-opacity: .9;
  shape-rendering: crispEdges;
}
.node text {
  pointer-events: none;
  text-shadow: 0 1px 0 #fff;
}
.link {
  fill: none;
  stroke: #000;
  stroke-opacity: .2;
}
.link:hover {
  stroke-opacity: .5;
}
</style>
<title>opengov2001-12p_48c.task</title>
<body>
<p id="chart">
<script type="text/javascript" src="http://d3js.org/d3.v2.min.js"></script>
<script type="text/javascript" src="https://rawgithub.com/d3/d3-plugins/master/sankey/sankey.js"></script>
<script>
var units = "Messages";

var margin = {top: 10, right: 10, bottom: 10, left: 10},
    width = 1000 - margin.left - margin.right,
    height = 2000 - margin.top - margin.bottom;

var formatNumber = d3.format(",.0f"),    // zero decimal places
    format = function(d) { return formatNumber(d) + " " + units; },
    color = d3.scale.category20();

// append the svg canvas to the page
var svg = d3.select("#chart").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", 
          "translate(" + margin.left + "," + margin.top + ")");

// Set the sankey diagram properties
var sankey = d3.sankey()
    .nodeWidth(36)
    .nodePadding(40)
    .size([width, height]);

var path = sankey.link();

graph = JSON.parse('{"nodes":[{"name":"35"},{"name":"36"},{"name":"33"},{"name":"34"},{"name":"39"},{"name":"37"},{"name":"38"},{"name":"43"},{"name":"42"},{"name":"41"},{"name":"40"},{"name":"22"},{"name":"23"},{"name":"24"},{"name":"25"},{"name":"26"},{"name":"27"},{"name":"28"},{"name":"29"},{"name":"3"},{"name":"2"},{"name":"1"},{"name":"30"},{"name":"7"},{"name":"6"},{"name":"32"},{"name":"5"},{"name":"4"},{"name":"31"},{"name":"9"},{"name":"8"},{"name":"19"},{"name":"17"},{"name":"18"},{"name":"15"},{"name":"16"},{"name":"13"},{"name":"14"},{"name":"11"},{"name":"12"},{"name":"21"},{"name":"20"},{"name":"109"},{"name":"108"},{"name":"107"},{"name":"106"},{"name":"105"},{"name":"104"},{"name":"103"},{"name":"102"},{"name":"99"},{"name":"101"},{"name":"100"},{"name":"98"},{"name":"97"},{"name":"96"},{"name":"95"},{"name":"94"},{"name":"93"},{"name":"92"},{"name":"91"},{"name":"90"},{"name":"10"},{"name":"88"},{"name":"89"},{"name":"116"},{"name":"79"},{"name":"117"},{"name":"114"},{"name":"78"},{"name":"115"},{"name":"77"},{"name":"112"},{"name":"113"},{"name":"110"},{"name":"111"},{"name":"118"},{"name":"119"},{"name":"82"},{"name":"83"},{"name":"80"},{"name":"81"},{"name":"86"},{"name":"87"},{"name":"84"},{"name":"85"},{"name":"67"},{"name":"125"},{"name":"126"},{"name":"66"},{"name":"69"},{"name":"127"},{"name":"128"},{"name":"68"},{"name":"121"},{"name":"122"},{"name":"123"},{"name":"124"},{"name":"129"},{"name":"70"},{"name":"71"},{"name":"120"},{"name":"72"},{"name":"73"},{"name":"74"},{"name":"75"},{"name":"76"},{"name":"59"},{"name":"64"},{"name":"65"},{"name":"62"},{"name":"63"},{"name":"60"},{"name":"131"},{"name":"61"},{"name":"130"},{"name":"48"},{"name":"45"},{"name":"44"},{"name":"47"},{"name":"46"}],"links":[{"source":"82","value":18,"target":"25"},{"source":"82","value":31,"target":"27"},{"source":"82","value":62,"target":"26"},{"source":"131","value":76653,"target":"7"},{"source":"87","value":120,"target":"41"},{"source":"87","value":50,"target":"42"},{"source":"87","value":47,"target":"43"},{"source":"63","value":3883,"target":"48"},{"source":"87","value":111,"target":"44"},{"source":"81","value":56,"target":"26"},{"source":"73","value":70,"target":"48"},{"source":"81","value":38,"target":"25"},{"source":"81","value":82,"target":"28"},{"source":"81","value":5,"target":"27"},{"source":"87","value":28,"target":"40"},{"source":"87","value":75,"target":"39"},{"source":"87","value":27,"target":"38"},{"source":"87","value":34,"target":"35"},{"source":"87","value":20,"target":"34"},{"source":"83","value":25,"target":"25"},{"source":"87","value":58,"target":"37"},{"source":"83","value":69,"target":"26"},{"source":"87","value":100,"target":"36"},{"source":"22","value":80232,"target":"116"},{"source":"47","value":3,"target":"119"},{"source":"84","value":135,"target":"25"},{"source":"87","value":9,"target":"32"},{"source":"80","value":108,"target":"29"},{"source":"80","value":13,"target":"28"},{"source":"87","value":27,"target":"33"},{"source":"87","value":55,"target":"30"},{"source":"80","value":63,"target":"27"},{"source":"87","value":70,"target":"31"},{"source":"80","value":34,"target":"26"},{"source":"80","value":24,"target":"25"},{"source":"73","value":34,"target":"39"},{"source":"73","value":119,"target":"38"},{"source":"114","value":75945,"target":"90"},{"source":"73","value":39,"target":"37"},{"source":"73","value":4,"target":"46"},{"source":"73","value":37,"target":"47"},{"source":"87","value":25,"target":"29"},{"source":"87","value":23,"target":"28"},{"source":"73","value":35,"target":"45"},{"source":"87","value":72,"target":"27"},{"source":"73","value":44,"target":"42"},{"source":"87","value":29,"target":"26"},{"source":"73","value":112,"target":"43"},{"source":"73","value":71,"target":"40"},{"source":"73","value":28,"target":"41"},{"source":"127","value":72747,"target":"15"},{"source":"110","value":82736,"target":"86"},{"source":"82","value":7,"target":"43"},{"source":"84","value":72,"target":"38"},{"source":"82","value":22,"target":"42"},{"source":"84","value":101,"target":"37"},{"source":"82","value":25,"target":"45"},{"source":"36","value":15,"target":"119"},{"source":"82","value":27,"target":"44"},{"source":"84","value":75,"target":"39"},{"source":"82","value":41,"target":"47"},{"source":"72","value":23,"target":"28"},{"source":"80","value":32,"target":"30"},{"source":"82","value":50,"target":"46"},{"source":"72","value":55,"target":"27"},{"source":"80","value":30,"target":"32"},{"source":"82","value":26,"target":"48"},{"source":"72","value":23,"target":"29"},{"source":"80","value":32,"target":"31"},{"source":"73","value":51,"target":"27"},{"source":"80","value":35,"target":"34"},{"source":"73","value":92,"target":"26"},{"source":"80","value":15,"target":"33"},{"source":"73","value":39,"target":"29"},{"source":"80","value":108,"target":"36"},{"source":"73","value":46,"target":"28"},{"source":"80","value":73,"target":"35"},{"source":"80","value":20,"target":"38"},{"source":"80","value":94,"target":"37"},{"source":"8","value":79189,"target":"102"},{"source":"82","value":14,"target":"41"},{"source":"82","value":2,"target":"40"},{"source":"80","value":8,"target":"39"},{"source":"73","value":78,"target":"30"},{"source":"73","value":12,"target":"32"},{"source":"73","value":14,"target":"33"},{"source":"73","value":36,"target":"34"},{"source":"73","value":41,"target":"35"},{"source":"73","value":64,"target":"36"},{"source":"72","value":44,"target":"34"},{"source":"82","value":79,"target":"39"},{"source":"84","value":6,"target":"40"},{"source":"72","value":20,"target":"35"},{"source":"84","value":40,"target":"41"},{"source":"67","value":6535,"target":"48"},{"source":"72","value":10,"target":"36"},{"source":"84","value":68,"target":"42"},{"source":"72","value":85,"target":"37"},{"source":"84","value":36,"target":"43"},{"source":"72","value":13,"target":"30"},{"source":"84","value":25,"target":"44"},{"source":"72","value":111,"target":"31"},{"source":"84","value":104,"target":"45"},{"source":"67","value":11724,"target":"44"},{"source":"72","value":2,"target":"32"},{"source":"84","value":38,"target":"46"},{"source":"72","value":36,"target":"33"},{"source":"84","value":81,"target":"47"},{"source":"82","value":61,"target":"34"},{"source":"84","value":22,"target":"29"},{"source":"82","value":5,"target":"33"},{"source":"84","value":57,"target":"28"},{"source":"130","value":83430,"target":"6"},{"source":"82","value":119,"target":"32"},{"source":"84","value":42,"target":"27"},{"source":"82","value":51,"target":"31"},{"source":"84","value":22,"target":"26"},{"source":"82","value":53,"target":"38"},{"source":"80","value":92,"target":"43"},{"source":"82","value":22,"target":"37"},{"source":"82","value":75,"target":"36"},{"source":"80","value":37,"target":"41"},{"source":"82","value":55,"target":"35"},{"source":"80","value":18,"target":"40"},{"source":"108","value":81411,"target":"84"},{"source":"80","value":64,"target":"47"},{"source":"80","value":61,"target":"46"},{"source":"80","value":70,"target":"45"},{"source":"80","value":27,"target":"44"},{"source":"82","value":90,"target":"30"},{"source":"100","value":82280,"target":"76"},{"source":"80","value":79,"target":"48"},{"source":"87","value":3,"target":"48"},{"source":"87","value":50,"target":"47"},{"source":"87","value":43,"target":"46"},{"source":"87","value":7,"target":"45"},{"source":"73","value":264,"target":"25"},{"source":"72","value":80,"target":"25"},{"source":"84","value":29,"target":"31"},{"source":"72","value":3,"target":"26"},{"source":"84","value":117,"target":"32"},{"source":"82","value":35,"target":"28"},{"source":"82","value":56,"target":"29"},{"source":"88","value":93,"target":"48"},{"source":"84","value":4,"target":"30"},{"source":"88","value":33,"target":"47"},{"source":"84","value":24,"target":"35"},{"source":"88","value":65,"target":"46"},{"source":"84","value":87,"target":"36"},{"source":"88","value":1,"target":"45"},{"source":"84","value":30,"target":"33"},{"source":"88","value":99,"target":"44"},{"source":"84","value":81,"target":"34"},{"source":"86","value":34,"target":"36"},{"source":"86","value":40,"target":"35"},{"source":"86","value":38,"target":"38"},{"source":"86","value":24,"target":"37"},{"source":"88","value":19,"target":"41"},{"source":"88","value":58,"target":"40"},{"source":"86","value":50,"target":"39"},{"source":"88","value":189,"target":"43"},{"source":"88","value":11,"target":"42"},{"source":"88","value":64,"target":"33"},{"source":"74","value":32,"target":"48"},{"source":"88","value":34,"target":"34"},{"source":"74","value":20,"target":"47"},{"source":"88","value":29,"target":"35"},{"source":"86","value":47,"target":"40"},{"source":"88","value":32,"target":"36"},{"source":"86","value":25,"target":"41"},{"source":"88","value":73,"target":"37"},{"source":"86","value":38,"target":"42"},{"source":"86","value":15,"target":"43"},{"source":"88","value":10,"target":"38"},{"source":"86","value":29,"target":"44"},{"source":"88","value":9,"target":"39"},{"source":"86","value":61,"target":"45"},{"source":"13","value":83060,"target":"107"},{"source":"15","value":70661,"target":"109"},{"source":"19","value":76893,"target":"113"},{"source":"59","value":12,"target":"28"},{"source":"86","value":21,"target":"27"},{"source":"74","value":77,"target":"42"},{"source":"86","value":23,"target":"26"},{"source":"72","value":90,"target":"38"},{"source":"86","value":35,"target":"25"},{"source":"72","value":80,"target":"39"},{"source":"74","value":37,"target":"40"},{"source":"88","value":109,"target":"32"},{"source":"74","value":36,"target":"45"},{"source":"88","value":47,"target":"31"},{"source":"74","value":42,"target":"46"},{"source":"88","value":24,"target":"30"},{"source":"84","value":11,"target":"48"},{"source":"74","value":77,"target":"43"},{"source":"86","value":107,"target":"29"},{"source":"45","value":23,"target":"119"},{"source":"74","value":32,"target":"44"},{"source":"86","value":95,"target":"28"},{"source":"72","value":27,"target":"44"},{"source":"130","value":78216,"target":"18"},{"source":"72","value":23,"target":"43"},{"source":"88","value":103,"target":"25"},{"source":"74","value":74,"target":"38"},{"source":"86","value":44,"target":"30"},{"source":"72","value":26,"target":"42"},{"source":"74","value":16,"target":"37"},{"source":"72","value":76,"target":"41"},{"source":"74","value":20,"target":"36"},{"source":"72","value":49,"target":"48"},{"source":"88","value":38,"target":"28"},{"source":"86","value":1,"target":"33"},{"source":"72","value":2,"target":"47"},{"source":"88","value":74,"target":"29"},{"source":"86","value":75,"target":"34"},{"source":"88","value":41,"target":"26"},{"source":"86","value":13,"target":"31"},{"source":"72","value":5,"target":"45"},{"source":"88","value":26,"target":"27"},{"source":"86","value":13,"target":"32"},{"source":"72","value":12,"target":"40"},{"source":"131","value":80073,"target":"19"},{"source":"83","value":100,"target":"38"},{"source":"16","value":82736,"target":"110"},{"source":"83","value":12,"target":"39"},{"source":"83","value":24,"target":"40"},{"source":"83","value":11,"target":"45"},{"source":"83","value":42,"target":"48"},{"source":"83","value":44,"target":"47"},{"source":"93","value":11,"target":"26"},{"source":"83","value":51,"target":"42"},{"source":"93","value":2,"target":"27"},{"source":"83","value":43,"target":"41"},{"source":"83","value":97,"target":"44"},{"source":"93","value":52,"target":"25"},{"source":"83","value":22,"target":"43"},{"source":"93","value":77,"target":"29"},{"source":"109","value":70661,"target":"85"},{"source":"93","value":78,"target":"28"},{"source":"83","value":22,"target":"29"},{"source":"83","value":22,"target":"27"},{"source":"83","value":28,"target":"28"},{"source":"41","value":2,"target":"119"},{"source":"93","value":47,"target":"30"},{"source":"93","value":40,"target":"31"},{"source":"83","value":74,"target":"37"},{"source":"93","value":42,"target":"32"},{"source":"20","value":75945,"target":"114"},{"source":"83","value":65,"target":"36"},{"source":"93","value":84,"target":"33"},{"source":"83","value":38,"target":"35"},{"source":"93","value":86,"target":"34"},{"source":"83","value":41,"target":"34"},{"source":"93","value":58,"target":"35"},{"source":"83","value":91,"target":"33"},{"source":"120","value":79573,"target":"8"},{"source":"93","value":12,"target":"36"},{"source":"107","value":83060,"target":"83"},{"source":"83","value":98,"target":"32"},{"source":"93","value":43,"target":"37"},{"source":"83","value":64,"target":"31"},{"source":"93","value":13,"target":"38"},{"source":"83","value":75,"target":"30"},{"source":"93","value":41,"target":"47"},{"source":"93","value":11,"target":"46"},{"source":"93","value":23,"target":"48"},{"source":"92","value":20,"target":"40"},{"source":"92","value":20,"target":"42"},{"source":"93","value":69,"target":"45"},{"source":"92","value":5,"target":"41"},{"source":"93","value":21,"target":"44"},{"source":"89","value":21,"target":"29"},{"source":"92","value":35,"target":"44"},{"source":"89","value":86,"target":"28"},{"source":"92","value":74,"target":"43"},{"source":"89","value":64,"target":"27"},{"source":"92","value":51,"target":"46"},{"source":"93","value":27,"target":"41"},{"source":"89","value":39,"target":"26"},{"source":"92","value":36,"target":"45"},{"source":"93","value":23,"target":"40"},{"source":"89","value":32,"target":"25"},{"source":"129","value":70798,"target":"17"},{"source":"92","value":19,"target":"48"},{"source":"92","value":84,"target":"47"},{"source":"90","value":24,"target":"45"},{"source":"89","value":17,"target":"30"},{"source":"91","value":5,"target":"40"},{"source":"90","value":24,"target":"46"},{"source":"89","value":29,"target":"31"},{"source":"91","value":96,"target":"41"},{"source":"90","value":23,"target":"47"},{"source":"90","value":67,"target":"48"},{"source":"91","value":70,"target":"43"},{"source":"91","value":122,"target":"48"},{"source":"60","value":8242,"target":"25"},{"source":"90","value":2,"target":"40"},{"source":"90","value":21,"target":"41"},{"source":"93","value":102,"target":"39"},{"source":"90","value":79,"target":"42"},{"source":"91","value":55,"target":"45"},{"source":"90","value":71,"target":"43"},{"source":"91","value":38,"target":"46"},{"source":"90","value":54,"target":"44"},{"source":"91","value":6,"target":"47"},{"source":"94","value":128,"target":"44"},{"source":"94","value":19,"target":"43"},{"source":"94","value":39,"target":"42"},{"source":"94","value":49,"target":"41"},{"source":"94","value":68,"target":"48"},{"source":"94","value":19,"target":"47"},{"source":"94","value":124,"target":"45"},{"source":"89","value":21,"target":"37"},{"source":"89","value":65,"target":"36"},{"source":"89","value":13,"target":"39"},{"source":"89","value":9,"target":"38"},{"source":"14","value":81411,"target":"108"},{"source":"89","value":73,"target":"33"},{"source":"112","value":76838,"target":"88"},{"source":"94","value":109,"target":"40"},{"source":"89","value":63,"target":"32"},{"source":"89","value":3,"target":"35"},{"source":"89","value":48,"target":"34"},{"source":"125","value":86399,"target":"13"},{"source":"89","value":24,"target":"40"},{"source":"89","value":24,"target":"41"},{"source":"89","value":13,"target":"42"},{"source":"94","value":5,"target":"38"},{"source":"94","value":48,"target":"39"},{"source":"94","value":13,"target":"35"},{"source":"94","value":18,"target":"34"},{"source":"94","value":54,"target":"37"},{"source":"94","value":36,"target":"36"},{"source":"94","value":29,"target":"31"},{"source":"94","value":100,"target":"30"},{"source":"94","value":22,"target":"33"},{"source":"95","value":84304,"target":"71"},{"source":"94","value":72,"target":"32"},{"source":"92","value":52,"target":"26"},{"source":"89","value":8,"target":"46"},{"source":"92","value":20,"target":"25"},{"source":"89","value":17,"target":"45"},{"source":"92","value":31,"target":"28"},{"source":"89","value":152,"target":"44"},{"source":"92","value":40,"target":"27"},{"source":"89","value":97,"target":"43"},{"source":"89","value":38,"target":"48"},{"source":"89","value":48,"target":"47"},{"source":"90","value":51,"target":"27"},{"source":"69","value":9407,"target":"46"},{"source":"90","value":87,"target":"28"},{"source":"90","value":109,"target":"29"},{"source":"102","value":79189,"target":"78"},{"source":"97","value":82891,"target":"73"},{"source":"69","value":6670,"target":"42"},{"source":"90","value":48,"target":"25"},{"source":"90","value":91,"target":"26"},{"source":"101","value":75558,"target":"77"},{"source":"94","value":13,"target":"27"},{"source":"94","value":65,"target":"28"},{"source":"94","value":3,"target":"29"},{"source":"92","value":14,"target":"31"},{"source":"94","value":75,"target":"26"},{"source":"92","value":26,"target":"30"},{"source":"94","value":11,"target":"25"},{"source":"92","value":2,"target":"39"},{"source":"106","value":81098,"target":"82"},{"source":"92","value":104,"target":"38"},{"source":"92","value":19,"target":"37"},{"source":"92","value":26,"target":"36"},{"source":"92","value":124,"target":"35"},{"source":"92","value":44,"target":"34"},{"source":"92","value":22,"target":"33"},{"source":"92","value":98,"target":"32"},{"source":"90","value":18,"target":"38"},{"source":"90","value":92,"target":"39"},{"source":"90","value":27,"target":"36"},{"source":"90","value":77,"target":"37"},{"source":"90","value":179,"target":"34"},{"source":"92","value":57,"target":"29"},{"source":"90","value":16,"target":"35"},{"source":"90","value":26,"target":"32"},{"source":"90","value":41,"target":"33"},{"source":"90","value":56,"target":"30"},{"source":"90","value":66,"target":"31"},{"source":"68","value":5039,"target":"29"},{"source":"67","value":2,"target":"27"},{"source":"61","value":5876,"target":"26"},{"source":"67","value":7040,"target":"28"},{"source":"1","value":84304,"target":"95"},{"source":"68","value":2829,"target":"25"},{"source":"128","value":86792,"target":"16"},{"source":"124","value":82857,"target":"24"},{"source":"32","value":17,"target":"119"},{"source":"9","value":77944,"target":"103"},{"source":"69","value":5969,"target":"26"},{"source":"99","value":77109,"target":"75"},{"source":"67","value":41,"target":"31"},{"source":"126","value":81792,"target":"14"},{"source":"67","value":7326,"target":"32"},{"source":"67","value":7625,"target":"36"},{"source":"68","value":4627,"target":"37"},{"source":"68","value":3357,"target":"33"},{"source":"113","value":76893,"target":"89"},{"source":"68","value":5407,"target":"41"},{"source":"111","value":69931,"target":"87"},{"source":"69","value":7208,"target":"38"},{"source":"124","value":88232,"target":"12"},{"source":"69","value":9334,"target":"30"},{"source":"67","value":7580,"target":"40"},{"source":"69","value":8558,"target":"34"},{"source":"61","value":4737,"target":"46"},{"source":"61","value":5363,"target":"42"},{"source":"62","value":7040,"target":"43"},{"source":"68","value":3399,"target":"45"},{"source":"24","value":80244,"target":"118"},{"source":"62","value":10282,"target":"47"},{"source":"62","value":5,"target":"38"},{"source":"60","value":9653,"target":"45"},{"source":"91","value":24,"target":"25"},{"source":"81","value":24,"target":"47"},{"source":"123","value":85849,"target":"23"},{"source":"62","value":8752,"target":"39"},{"source":"81","value":32,"target":"48"},{"source":"91","value":60,"target":"27"},{"source":"81","value":34,"target":"45"},{"source":"96","value":79839,"target":"72"},{"source":"91","value":73,"target":"26"},{"source":"81","value":54,"target":"46"},{"source":"91","value":44,"target":"29"},{"source":"91","value":70,"target":"28"},{"source":"81","value":38,"target":"44"},{"source":"81","value":58,"target":"41"},{"source":"81","value":116,"target":"42"},{"source":"81","value":53,"target":"40"},{"source":"61","value":6328,"target":"38"},{"source":"60","value":7329,"target":"41"},{"source":"61","value":5771,"target":"34"},{"source":"61","value":6638,"target":"30"},{"source":"62","value":9445,"target":"31"},{"source":"60","value":10068,"target":"29"},{"source":"62","value":9910,"target":"35"},{"source":"81","value":27,"target":"29"},{"source":"81","value":79,"target":"36"},{"source":"91","value":77,"target":"36"},{"source":"60","value":7839,"target":"33"},{"source":"81","value":28,"target":"37"},{"source":"91","value":41,"target":"35"},{"source":"123","value":79807,"target":"11"},{"source":"62","value":11349,"target":"27"},{"source":"81","value":14,"target":"38"},{"source":"91","value":119,"target":"34"},{"source":"81","value":50,"target":"39"},{"source":"91","value":11,"target":"33"},{"source":"60","value":7999,"target":"37"},{"source":"81","value":10,"target":"33"},{"source":"81","value":27,"target":"34"},{"source":"91","value":84,"target":"38"},{"source":"81","value":18,"target":"35"},{"source":"91","value":29,"target":"37"},{"source":"81","value":80,"target":"31"},{"source":"91","value":33,"target":"32"},{"source":"91","value":62,"target":"31"},{"source":"91","value":58,"target":"30"},{"source":"122","value":82326,"target":"10"},{"source":"39","value":21,"target":"119"},{"source":"104","value":81191,"target":"80"},{"source":"77","value":62,"target":"47"},{"source":"77","value":17,"target":"44"},{"source":"77","value":19,"target":"45"},{"source":"77","value":82,"target":"48"},{"source":"77","value":47,"target":"41"},{"source":"77","value":33,"target":"40"},{"source":"77","value":34,"target":"43"},{"source":"77","value":43,"target":"42"},{"source":"122","value":83198,"target":"22"},{"source":"21","value":81721,"target":"115"},{"source":"98","value":76381,"target":"74"},{"source":"120","value":78205,"target":"20"},{"source":"77","value":14,"target":"33"},{"source":"121","value":85074,"target":"21"},{"source":"77","value":65,"target":"34"},{"source":"77","value":8,"target":"35"},{"source":"77","value":33,"target":"36"},{"source":"77","value":22,"target":"37"},{"source":"77","value":26,"target":"38"},{"source":"77","value":44,"target":"39"},{"source":"77","value":35,"target":"32"},{"source":"77","value":84,"target":"31"},{"source":"77","value":77,"target":"30"},{"source":"76","value":18,"target":"33"},{"source":"76","value":13,"target":"32"},{"source":"76","value":48,"target":"31"},{"source":"76","value":18,"target":"30"},{"source":"76","value":6,"target":"25"},{"source":"76","value":31,"target":"29"},{"source":"76","value":65,"target":"27"},{"source":"76","value":95,"target":"28"},{"source":"77","value":18,"target":"28"},{"source":"77","value":13,"target":"29"},{"source":"23","value":83407,"target":"117"},{"source":"77","value":37,"target":"26"},{"source":"77","value":36,"target":"27"},{"source":"70","value":4392,"target":"47"},{"source":"77","value":88,"target":"25"},{"source":"70","value":5817,"target":"43"},{"source":"12","value":81098,"target":"106"},{"source":"6","value":82280,"target":"100"},{"source":"78","value":13,"target":"47"},{"source":"78","value":33,"target":"48"},{"source":"78","value":41,"target":"45"},{"source":"78","value":27,"target":"46"},{"source":"78","value":16,"target":"43"},{"source":"78","value":10,"target":"44"},{"source":"105","value":76957,"target":"81"},{"source":"76","value":74,"target":"48"},{"source":"76","value":60,"target":"47"},{"source":"76","value":84,"target":"46"},{"source":"76","value":55,"target":"45"},{"source":"76","value":45,"target":"41"},{"source":"78","value":70,"target":"36"},{"source":"76","value":36,"target":"42"},{"source":"78","value":12,"target":"37"},{"source":"76","value":34,"target":"43"},{"source":"78","value":44,"target":"38"},{"source":"76","value":62,"target":"44"},{"source":"78","value":74,"target":"39"},{"source":"78","value":24,"target":"32"},{"source":"78","value":30,"target":"33"},{"source":"78","value":17,"target":"34"},{"source":"76","value":97,"target":"40"},{"source":"78","value":8,"target":"35"},{"source":"103","value":77944,"target":"79"},{"source":"18","value":76838,"target":"112"},{"source":"78","value":34,"target":"40"},{"source":"76","value":14,"target":"38"},{"source":"78","value":35,"target":"42"},{"source":"78","value":37,"target":"41"},{"source":"76","value":52,"target":"35"},{"source":"76","value":20,"target":"34"},{"source":"76","value":51,"target":"37"},{"source":"76","value":127,"target":"36"},{"source":"11","value":76957,"target":"105"},{"source":"75","value":51,"target":"35"},{"source":"75","value":76,"target":"36"},{"source":"75","value":70,"target":"37"},{"source":"85","value":36,"target":"30"},{"source":"75","value":33,"target":"38"},{"source":"85","value":16,"target":"33"},{"source":"75","value":68,"target":"39"},{"source":"85","value":67,"target":"32"},{"source":"85","value":4,"target":"35"},{"source":"85","value":84,"target":"34"},{"source":"129","value":78818,"target":"5"},{"source":"79","value":12,"target":"43"},{"source":"79","value":7,"target":"42"},{"source":"79","value":22,"target":"45"},{"source":"79","value":14,"target":"44"},{"source":"79","value":63,"target":"47"},{"source":"79","value":62,"target":"46"},{"source":"79","value":196,"target":"48"},{"source":"59","value":20,"target":"48"},{"source":"85","value":26,"target":"26"},{"source":"85","value":37,"target":"27"},{"source":"75","value":47,"target":"41"},{"source":"85","value":94,"target":"28"},{"source":"59","value":21,"target":"44"},{"source":"75","value":25,"target":"40"},{"source":"85","value":9,"target":"29"},{"source":"75","value":92,"target":"43"},{"source":"75","value":58,"target":"42"},{"source":"75","value":43,"target":"45"},{"source":"59","value":20,"target":"40"},{"source":"75","value":47,"target":"44"},{"source":"85","value":93,"target":"42"},{"source":"75","value":14,"target":"48"},{"source":"85","value":28,"target":"41"},{"source":"85","value":19,"target":"40"},{"source":"75","value":41,"target":"46"},{"source":"75","value":14,"target":"47"},{"source":"65","value":1625,"target":"46"},{"source":"85","value":70,"target":"46"},{"source":"85","value":59,"target":"45"},{"source":"128","value":77479,"target":"4"},{"source":"85","value":28,"target":"44"},{"source":"85","value":43,"target":"43"},{"source":"79","value":88,"target":"40"},{"source":"79","value":58,"target":"41"},{"source":"79","value":28,"target":"34"},{"source":"79","value":37,"target":"33"},{"source":"79","value":39,"target":"32"},{"source":"79","value":19,"target":"31"},{"source":"79","value":36,"target":"38"},{"source":"79","value":15,"target":"37"},{"source":"79","value":81,"target":"36"},{"source":"79","value":130,"target":"35"},{"source":"85","value":35,"target":"38"},{"source":"85","value":12,"target":"39"},{"source":"85","value":71,"target":"36"},{"source":"59","value":6,"target":"36"},{"source":"79","value":19,"target":"39"},{"source":"85","value":25,"target":"37"},{"source":"59","value":11,"target":"32"},{"source":"7","value":75558,"target":"101"},{"source":"127","value":88056,"target":"3"},{"source":"78","value":27,"target":"30"},{"source":"78","value":29,"target":"31"},{"source":"79","value":9,"target":"30"},{"source":"27","value":14,"target":"119"},{"source":"86","value":74,"target":"46"},{"source":"79","value":157,"target":"25"},{"source":"86","value":50,"target":"47"},{"source":"78","value":119,"target":"29"},{"source":"86","value":86,"target":"48"},{"source":"79","value":28,"target":"27"},{"source":"79","value":16,"target":"26"},{"source":"79","value":72,"target":"29"},{"source":"85","value":10,"target":"47"},{"source":"78","value":32,"target":"26"},{"source":"79","value":56,"target":"28"},{"source":"85","value":59,"target":"48"},{"source":"78","value":40,"target":"25"},{"source":"78","value":56,"target":"28"},{"source":"78","value":37,"target":"27"},{"source":"126","value":80967,"target":"2"},{"source":"75","value":71,"target":"28"},{"source":"75","value":81,"target":"29"},{"source":"75","value":74,"target":"26"},{"source":"5","value":77109,"target":"99"},{"source":"75","value":49,"target":"27"},{"source":"75","value":52,"target":"25"},{"source":"74","value":63,"target":"27"},{"source":"74","value":12,"target":"25"},{"source":"2","value":79839,"target":"96"},{"source":"74","value":44,"target":"26"},{"source":"74","value":41,"target":"29"},{"source":"4","value":76381,"target":"98"},{"source":"74","value":125,"target":"30"},{"source":"74","value":71,"target":"35"},{"source":"74","value":46,"target":"34"},{"source":"74","value":90,"target":"33"},{"source":"74","value":58,"target":"32"},{"source":"75","value":4,"target":"34"},{"source":"3","value":82891,"target":"97"},{"source":"75","value":57,"target":"33"},{"source":"75","value":43,"target":"32"},{"source":"75","value":35,"target":"31"},{"source":"75","value":10,"target":"30"},{"source":"70","value":6799,"target":"27"},{"source":"71","value":19,"target":"25"},{"source":"71","value":32,"target":"26"},{"source":"71","value":69,"target":"27"},{"source":"125","value":86173,"target":"1"},{"source":"71","value":147,"target":"30"},{"source":"70","value":4380,"target":"35"},{"source":"66","value":7383,"target":"47"},{"source":"70","value":4922,"target":"39"},{"source":"71","value":34,"target":"37"},{"source":"71","value":56,"target":"38"},{"source":"71","value":33,"target":"35"},{"source":"71","value":2,"target":"36"},{"source":"71","value":32,"target":"33"},{"source":"71","value":19,"target":"34"},{"source":"70","value":7685,"target":"31"},{"source":"71","value":36,"target":"31"},{"source":"71","value":86,"target":"32"},{"source":"26","value":1,"target":"119"},{"source":"10","value":81191,"target":"104"},{"source":"71","value":79,"target":"29"},{"source":"71","value":33,"target":"28"},{"source":"66","value":8225,"target":"39"},{"source":"64","value":9420,"target":"45"},{"source":"66","value":8397,"target":"35"},{"source":"64","value":5237,"target":"41"},{"source":"71","value":14,"target":"40"},{"source":"71","value":109,"target":"41"},{"source":"71","value":20,"target":"42"},{"source":"71","value":60,"target":"43"},{"source":"65","value":2385,"target":"34"},{"source":"71","value":28,"target":"44"},{"source":"33","value":42,"target":"119"},{"source":"63","value":5987,"target":"40"},{"source":"71","value":9,"target":"45"},{"source":"71","value":49,"target":"46"},{"source":"71","value":44,"target":"47"},{"source":"17","value":69931,"target":"111"},{"source":"65","value":1840,"target":"38"},{"source":"71","value":19,"target":"48"},{"source":"30","value":13,"target":"119"},{"source":"63","value":6020,"target":"44"},{"source":"71","value":10,"target":"39"},{"source":"63","value":4546,"target":"36"},{"source":"115","value":81721,"target":"91"},{"source":"65","value":2121,"target":"42"},{"source":"117","value":83407,"target":"93"},{"source":"66","value":8099,"target":"43"},{"source":"118","value":80244,"target":"94"},{"source":"64","value":8156,"target":"37"},{"source":"116","value":80232,"target":"92"},{"source":"34","value":16,"target":"119"},{"source":"66","value":6975,"target":"27"},{"source":"64","value":9012,"target":"33"},{"source":"65","value":3911,"target":"26"},{"source":"63","value":5039,"target":"32"},{"source":"63","value":5295,"target":"28"},{"source":"65","value":2366,"target":"30"},{"source":"64","value":5916,"target":"29"},{"source":"66","value":6869,"target":"31"},{"source":"64","value":5105,"target":"25"},{"source":"121","value":78326,"target":"9"}]}');

/************************** Workaround ***************************
  The Sankey.js file expects the "source" and "target" values of the links array, to refer to the respective index of the nodes array. We
  store not indices, but names for the source and target values. The following lines replace these names with their respective index values
  and overrides the values of the links-array in the graph struct afterwards.
*/

// convert links map into
var nameToIndexMap = {};
var nodes = graph.nodes;
for (var i=0; i < nodes.length; i++) {
  nameToIndexMap[nodes[i]["name"]] = i;
}
// now, in the links array, replace all names with their respective index value from the nodes array
var links = graph.links;
for (var i=0; i < links.length; i++) {
  sourceId = links[i]["source"];
  targetId = links[i]["target"];
  links[i]["source"] = nameToIndexMap[sourceId] // example: the map maps name->1
  links[i]["target"] = nameToIndexMap[targetId]
}
graph.links = links // override original
/************************** Workaround ****************************/

  sankey
      .nodes(graph.nodes)
      .links(graph.links)
      .layout(32);

// add in the links
  var link = svg.append("g").selectAll(".link")
      .data(graph.links)
    .enter().append("path")
      .attr("class", "link")
      .attr("d", path)
      .style("stroke-width", function(d) { return Math.max(1, d.dy); })
      .sort(function(a, b) { return b.dy - a.dy; });

// add the link titles
  link.append("title")
        .text(function(d) {
            return d.source.name + " â†’ " + 
                d.target.name + "\n" + format(d.value); });

// add in the nodes
  var node = svg.append("g").selectAll(".node")
      .data(graph.nodes)
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { 
          return "translate(" + d.x + "," + d.y + ")"; })
    .call(d3.behavior.drag()
      .origin(function(d) { return d; })
      .on("dragstart", function() { 
          this.parentNode.appendChild(this); })
      .on("drag", dragmove));

// add the rectangles for the nodes
  node.append("rect")
      .attr("height", function(d) { return d.dy; })
      .attr("width", sankey.nodeWidth())
      .style("fill", function(d) { 
          return d.color = color(d.name.replace(/ .*/, "")); })
      .style("stroke", function(d) { 
          return d3.rgb(d.color).darker(2); })
    .append("title")
      .text(function(d) { 
          return d.name + "\n" + format(d.value); });

// add in the title for the nodes
  node.append("text")
      .attr("x", -6)
      .attr("y", function(d) { return d.dy / 2; })
      .attr("dy", ".35em")
      .attr("text-anchor", "end")
      .attr("transform", null)
      .text(function(d) { return d.name; })
    .filter(function(d) { return d.x < width / 2; })
      .attr("x", 6 + sankey.nodeWidth())
      .attr("text-anchor", "start");

// the function for moving the nodes
  function dragmove(d) {
    d3.select(this).attr("transform", 
        "translate(" + (
            d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))
        )
        + "," + (
            d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))
        ) + ")");
    sankey.relayout();
    link.attr("d", path);
  }

</script>
</body>
</html>
